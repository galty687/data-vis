<!DOCTYPE html>
<html lang="zh" data-accent-color="violet" data-content_root="../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>主成分分析 - data visulization 0.3 文档</title><link rel="index" title="索引" href="../genindex.html" /><link rel="search" title="搜索" href="../search.html" /><link rel="next" title="因子分析" href="FA.html" /><link rel="prev" title="因果分析" href="casual-chick.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=397bb51e" />
    <link rel="stylesheet" type="text/css" href="../_static/shibuya.css?v=d48c410d" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link media="print" rel="stylesheet" type="text/css" href="../_static/print.css?v=20ff2c19" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=04ad0e1e" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="主成分分析"/>
<meta name="twitter:card" content="summary"/>
  </head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="../index.html">
      
      
      <strong>data visulization</strong>
    </a>
    <div class="sy-head-nav" id="head-nav">
      <nav class="sy-head-links"></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="../search.html" method="get">
  <input type="text" name="q" placeholder="搜索" />
  <kbd>/</kbd>
</form><div class="sy-head-socials"></div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="切换到亮色模式"
data-aria-light="切换到暗色模式"
data-aria-dark="切换到自动模式">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="head-nav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2 -translate-x-2"></span>
          <span class="hamburger_3 -translate-x-1"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><p class="caption" role="heading" aria-level="3"><span class="caption-text">课程内容</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../1-Intro/intro.html">课程大纲</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1-Intro/resources.html">课程资源</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">工具链</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../3-ToolChain/python.html">Python 入门</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3-ToolChain/jupyter.html">Jupyter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3-ToolChain/vs_code.html">Visual Studio Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3-ToolChain/pandas.html">Pandas 入门</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3-ToolChain/seaborn.html">Seaborn 入门</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3-ToolChain/scilearn.html">Scikit-learn</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">描述性分析</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../4-Graphics/bar.html">条形图绘制</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4-Graphics/histogram.html">直方图与核密度图</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4-Graphics/boxplot.html">箱线图</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4-Graphics/violin.html">小提琴图</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4-Graphics/stripplot.html">条带图</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4-Graphics/sina.html">西纳图</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">探索性分析</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="scatter.html">散点图</a></li>
<li class="toctree-l1"><a class="reference internal" href="CA.html">相关性分析</a></li>
<li class="toctree-l1"><a class="reference internal" href="casual-chick.html">因果分析</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">主成分分析</a></li>
<li class="toctree-l1"><a class="reference internal" href="FA.html">因子分析</a></li>
<li class="toctree-l1"><a class="reference internal" href="exercise.html">数据可视化练习1：描述与相关</a></li>
<li class="toctree-l1"><a class="reference internal" href="casual.html">数据可视化练习：因果分析</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">数据类型与分析</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../5-Data/data-type.html">常见数据类型</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5-Data/data-analysis.html">常见分析方法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5-Data/descriptive.html">描述性统计常见指标</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">数据叙事</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../6-Storytelling/stories.html">故事类型</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6-Storytelling/tech-rhetoric.html">技术修辞</a></li>
</ul>
<p class="caption" role="heading" aria-level="3"><span class="caption-text">课程项目与期末论文</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../project/project-req.html">课程小组项目</a></li>
<li class="toctree-l1"><a class="reference internal" href="../project/termpaper.html">期末论文</a></li>
</ul>

        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>该页内容</h3><ul>
<li><a class="reference internal" href="#id2">&#26696;&#20363;&#20998;&#26512;</a><ul>
<li><a class="reference internal" href="#id3">&#25968;&#25454;&#38598;&#31616;&#20171;</a></li>
<li><a class="reference internal" href="#id4">&#25968;&#25454;&#29305;&#24449;&#35828;&#26126;</a></li>
<li><a class="reference internal" href="#id5">&#20998;&#26512;&#39034;&#24207;</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id6">&#20195;&#30721;</a></li>
<li><a class="reference internal" href="#id7">&#25968;&#25454;&#21487;&#35270;&#21270;</a><ul>
<li><a class="reference internal" href="#id8">&#20027;&#25104;&#20998;&#30862;&#30707;&#22270;</a><ul>
<li><a class="reference internal" href="#id9">&#22270;&#20013;&#21508;&#20803;&#32032;&#21547;&#20041;</a></li>
<li><a class="reference internal" href="#id10">&#22914;&#20309;&#35835;&#25026;&#36825;&#24352;&#22270;</a></li>
<li><a class="reference internal" href="#id11">&#32467;&#35770;&#19982;&#23454;&#38469;&#24212;&#29992;</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
<div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../index.html"><span itemprop="name">data visulization</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">主成分分析</strong>
        <meta itemprop="position" content="2" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
        <article class="yue" role="main">
          <section id="id1">
<h1>主成分分析<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h1>
<p><strong>主成分分析（Principal Component Analysis, PCA）</strong> 是一种常用的数据降维方法，用来把高维数据（很多变量）转换成少数几个新的“综合指标”，同时尽可能保留原始信息。</p>
<p>与回归分析不同，PCA 不关心因果关系，它只看：</p>
<ul class="simple">
<li><p>哪些变量变化最大；</p></li>
<li><p>哪些变量之间最相关；</p></li>
<li><p>怎样用更少的变量（主成分）来描述原始数据结构。</p></li>
</ul>
<section id="id2">
<h2>案例分析<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h2>
<p>以探究不同酒在化学成分上主要有哪些区别为例，做主成分分析。</p>
<section id="id3">
<h3>数据集简介<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>属性</strong></p></th>
<th class="head"><p><strong>内容</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>名称</strong></p></td>
<td><p>Wine dataset（葡萄酒数据集）</p></td>
</tr>
<tr class="row-odd"><td><p><strong>来源</strong></p></td>
<td><p>UCI Machine Learning Repository</p></td>
</tr>
<tr class="row-even"><td><p><strong>样本数量</strong></p></td>
<td><p>178 个葡萄酒样本</p></td>
</tr>
<tr class="row-odd"><td><p><strong>特征数量</strong></p></td>
<td><p>13 个化学指标（连续变量）</p></td>
</tr>
<tr class="row-even"><td><p><strong>类别数</strong></p></td>
<td><p>3 种葡萄酒产地（意大利同一地区的 3 个酒厂）</p></td>
</tr>
<tr class="row-odd"><td><p><strong>任务类型</strong></p></td>
<td><p>多分类 / 无监督降维演示 / 聚类可视化</p></td>
</tr>
<tr class="row-even"><td><p><strong>适合展示</strong></p></td>
<td><p>PCA、LDA、聚类、特征可视化、特征相关性分析</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id4">
<h3>数据特征说明<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>特征</strong></p></th>
<th class="head"><p><strong>含义</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Alcohol</p></td>
<td><p>酒精含量</p></td>
</tr>
<tr class="row-odd"><td><p>Malic acid</p></td>
<td><p>苹果酸</p></td>
</tr>
<tr class="row-even"><td><p>Ash</p></td>
<td><p>灰分</p></td>
</tr>
<tr class="row-odd"><td><p>Alcalinity of ash</p></td>
<td><p>灰分碱度</p></td>
</tr>
<tr class="row-even"><td><p>Magnesium</p></td>
<td><p>镁含量</p></td>
</tr>
<tr class="row-odd"><td><p>Total phenols</p></td>
<td><p>总酚类</p></td>
</tr>
<tr class="row-even"><td><p>Flavanoids</p></td>
<td><p>黄酮类化合物</p></td>
</tr>
<tr class="row-odd"><td><p>Nonflavanoid phenols</p></td>
<td><p>非黄酮类酚</p></td>
</tr>
<tr class="row-even"><td><p>Proanthocyanins</p></td>
<td><p>原花青素</p></td>
</tr>
<tr class="row-odd"><td><p>Color intensity</p></td>
<td><p>色泽强度</p></td>
</tr>
<tr class="row-even"><td><p>Hue</p></td>
<td><p>色调</p></td>
</tr>
<tr class="row-odd"><td><p>OD280/OD315 of diluted wines</p></td>
<td><p>稀释葡萄酒的吸光度比值</p></td>
</tr>
<tr class="row-even"><td><p>Proline</p></td>
<td><p>脯氨酸含量（氨基酸）</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id5">
<h3>分析顺序<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>步骤</strong></p></th>
<th class="head"><p><strong>操作</strong></p></th>
<th class="head"><p><strong>目的</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>①</p></td>
<td><p><strong>标准化数据（StandardScaler）</strong></p></td>
<td><p>确保不同量纲的变量可比较（酒精 vs 镁含量差异大）</p></td>
</tr>
<tr class="row-odd"><td><p>②</p></td>
<td><p><strong>执行 PCA 降维</strong></p></td>
<td><p>找到新的“主成分方向”——即最大化方差的线性组合</p></td>
</tr>
<tr class="row-even"><td><p>③</p></td>
<td><p><strong>查看方差解释率（Scree Plot）</strong></p></td>
<td><p>决定保留多少主成分（如 PC1 + PC2 ≈ 56%）</p></td>
</tr>
<tr class="row-odd"><td><p>④</p></td>
<td><p><strong>绘制 PCA 散点图（2D 或 3D）</strong></p></td>
<td><p>观察样本在主成分空间中的分布或聚类</p></td>
</tr>
<tr class="row-even"><td><p>⑤</p></td>
<td><p><strong>绘制载荷热图（Loadings Heatmap）</strong></p></td>
<td><p>解释每个主成分由哪些变量主导、这些方向意味着什么</p></td>
</tr>
<tr class="row-odd"><td><p>⑥</p></td>
<td><p>（可选）<strong>解释主成分含义 + 与实际业务对应</strong></p></td>
<td><p>例如：PC1 = 酒体浓度，PC2 = 颜色与酸度差异</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="id6">
<h2>代码<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># ===============================================</span>
</span><span data-line="2"><span class="c1"># PCA 示例：葡萄酒质量（winequality-red.csv）</span>
</span><span data-line="3"><span class="c1"># 文件可从 UCI 下载；该 CSV 使用分号分隔（sep=&quot;;&quot;）</span>
</span><span data-line="4"><span class="c1"># ===============================================</span>
</span><span data-line="5">
</span><span data-line="6"><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span data-line="7"><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span data-line="8"><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</span><span data-line="9"><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
</span><span data-line="10"><span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
</span><span data-line="11">
</span><span data-line="12"><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardScaler</span>
</span><span data-line="13"><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.decomposition</span><span class="w"> </span><span class="kn">import</span> <span class="n">PCA</span>
</span><span data-line="14">
</span><span data-line="15"><span class="c1"># ---- 0) 全局绘图风格（避免中文乱码：此处仅用英文标签） ----</span>
</span><span data-line="16"><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.sans-serif&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;DejaVu Sans&#39;</span><span class="p">]</span>
</span><span data-line="17"><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.unicode_minus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
</span><span data-line="18"><span class="n">sns</span><span class="o">.</span><span class="n">set_theme</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s2">&quot;DejaVu Sans&quot;</span><span class="p">,</span> <span class="n">font_scale</span><span class="o">=</span><span class="mf">1.1</span><span class="p">)</span>
</span><span data-line="19">
</span><span data-line="20"><span class="c1"># ---- 1) 读取数据 ----</span>
</span><span data-line="21"><span class="n">CSV_PATH</span> <span class="o">=</span> <span class="s2">&quot;winequality-red.csv&quot;</span>  <span class="c1"># 请把文件放在当前工作目录</span>
</span><span data-line="22"><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">CSV_PATH</span><span class="p">):</span>
</span><span data-line="23">    <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="s2">&quot;请将 winequality-red.csv 放到当前工作目录下。&quot;</span><span class="p">)</span>
</span><span data-line="24">
</span><span data-line="25"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">CSV_PATH</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;;&quot;</span><span class="p">)</span>
</span><span data-line="26">
</span><span data-line="27"><span class="c1"># 目标变量（可选）</span>
</span><span data-line="28"><span class="n">target_col</span> <span class="o">=</span> <span class="s2">&quot;quality&quot;</span> <span class="k">if</span> <span class="s2">&quot;quality&quot;</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">else</span> <span class="kc">None</span>
</span><span data-line="29">
</span><span data-line="30"><span class="c1"># 仅选择数值特征做 PCA（排除目标质量列）</span>
</span><span data-line="31"><span class="n">feature_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="n">target_col</span><span class="p">]</span>
</span><span data-line="32"><span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">feature_cols</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
</span><span data-line="33">
</span><span data-line="34"><span class="c1"># ---- 2) 标准化 ----</span>
</span><span data-line="35"><span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
</span><span data-line="36"><span class="n">X_std</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</span><span data-line="37">
</span><span data-line="38"><span class="c1"># ---- 3) PCA 拟合（先保留全部分量，后面根据方差解释率决定保留几个）----</span>
</span><span data-line="39"><span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">feature_cols</span><span class="p">),</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
</span><span data-line="40"><span class="n">X_pca</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_std</span><span class="p">)</span>
</span><span data-line="41">
</span><span data-line="42"><span class="n">explained_var</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">explained_variance_ratio_</span>
</span><span data-line="43"><span class="n">cum_explained</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">explained_var</span><span class="p">)</span>
</span><span data-line="44">
</span><span data-line="45"><span class="c1"># ---- 4) Scree Plot（含累计方差）----</span>
</span><span data-line="46"><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">7.5</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">))</span>
</span><span data-line="47"><span class="n">components</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">explained_var</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span data-line="48"><span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">components</span><span class="p">,</span> <span class="n">explained_var</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Explained variance&quot;</span><span class="p">)</span>
</span><span data-line="49"><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">components</span><span class="p">,</span> <span class="n">cum_explained</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;o&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Cumulative&quot;</span><span class="p">)</span>
</span><span data-line="50"><span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;80% threshold&quot;</span><span class="p">)</span>
</span><span data-line="51"><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Principal Component&quot;</span><span class="p">)</span>
</span><span data-line="52"><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Explained Variance Ratio&quot;</span><span class="p">)</span>
</span><span data-line="53"><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Scree Plot (Wine Quality - Red)&quot;</span><span class="p">)</span>
</span><span data-line="54"><span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">components</span><span class="p">)</span>
</span><span data-line="55"><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</span><span data-line="56"><span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</span><span data-line="57"><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span data-line="58">
</span><span data-line="59"><span class="c1"># ---- 5) 主成分载荷（Loadings）----</span>
</span><span data-line="60"><span class="c1"># pca.components_ 形状：(n_components, n_features)</span>
</span><span data-line="61"><span class="c1"># 每一行是一个主成分在原始特征上的权重（载荷），可理解为“方向向量”</span>
</span><span data-line="62"><span class="n">loadings</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
</span><span data-line="63">    <span class="n">pca</span><span class="o">.</span><span class="n">components_</span><span class="p">,</span>
</span><span data-line="64">    <span class="n">columns</span><span class="o">=</span><span class="n">feature_cols</span><span class="p">,</span>
</span><span data-line="65">    <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;PC</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">feature_cols</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
</span><span data-line="66"><span class="p">)</span>
</span><span data-line="67">
</span><span data-line="68"><span class="c1"># 查看前两主成分的绝对载荷 Top-k 特征（帮助命名）</span>
</span><span data-line="69"><span class="k">def</span><span class="w"> </span><span class="nf">top_features_for_pc</span><span class="p">(</span><span class="n">pc_name</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
</span><span data-line="70">    <span class="n">s</span> <span class="o">=</span> <span class="n">loadings</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">pc_name</span><span class="p">]</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span data-line="71">    <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
</span><span data-line="72">
</span><span data-line="73"><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Top features contributing to PC1:&quot;</span><span class="p">)</span>
</span><span data-line="74"><span class="nb">print</span><span class="p">(</span><span class="n">top_features_for_pc</span><span class="p">(</span><span class="s2">&quot;PC1&quot;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
</span><span data-line="75"><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Top features contributing to PC2:&quot;</span><span class="p">)</span>
</span><span data-line="76"><span class="nb">print</span><span class="p">(</span><span class="n">top_features_for_pc</span><span class="p">(</span><span class="s2">&quot;PC2&quot;</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
</span><span data-line="77">
</span><span data-line="78"><span class="c1"># ---- 6) 载荷热图（前若干主成分）----</span>
</span><span data-line="79"><span class="n">k_pc</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># 可调整查看前 3~5 个主成分</span>
</span><span data-line="80"><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</span><span data-line="81"><span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span>
</span><span data-line="82">    <span class="n">loadings</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="n">k_pc</span><span class="p">],</span>
</span><span data-line="83">    <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.2f&quot;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;vlag&quot;</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span data-line="84">    <span class="n">cbar_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Loading&quot;</span><span class="p">}</span>
</span><span data-line="85"><span class="p">)</span>
</span><span data-line="86"><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loadings Heatmap (Top </span><span class="si">{</span><span class="n">k_pc</span><span class="si">}</span><span class="s2"> PCs)&quot;</span><span class="p">)</span>
</span><span data-line="87"><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Principal Components&quot;</span><span class="p">)</span>
</span><span data-line="88"><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Original Features&quot;</span><span class="p">)</span>
</span><span data-line="89"><span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</span><span data-line="90"><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span data-line="91">
</span><span data-line="92"><span class="c1"># ---- 7) 二维散点图（PC1 vs PC2），可按质量上色（若有 quality 列）----</span>
</span><span data-line="93"><span class="n">pc_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span><span data-line="94">    <span class="s2">&quot;PC1&quot;</span><span class="p">:</span> <span class="n">X_pca</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span>
</span><span data-line="95">    <span class="s2">&quot;PC2&quot;</span><span class="p">:</span> <span class="n">X_pca</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
</span><span data-line="96"><span class="p">})</span>
</span><span data-line="97"><span class="k">if</span> <span class="n">target_col</span><span class="p">:</span>
</span><span data-line="98">    <span class="n">pc_df</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">target_col</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</span><span data-line="99">
</span><span data-line="100"><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">6.2</span><span class="p">,</span> <span class="mf">5.2</span><span class="p">))</span>
</span><span data-line="101"><span class="k">if</span> <span class="n">target_col</span><span class="p">:</span>
</span><span data-line="102">    <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span>
</span><span data-line="103">        <span class="n">data</span><span class="o">=</span><span class="n">pc_df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;PC1&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;PC2&quot;</span><span class="p">,</span>
</span><span data-line="104">        <span class="n">hue</span><span class="o">=</span><span class="n">target_col</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;viridis&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span>
</span><span data-line="105">    <span class="p">)</span>
</span><span data-line="106">    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">target_col</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.02</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">)</span>
</span><span data-line="107"><span class="k">else</span><span class="p">:</span>
</span><span data-line="108">    <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">pc_df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;PC1&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;PC2&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</span><span data-line="109">
</span><span data-line="110"><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;PCA Scatter (PC1 vs PC2)&quot;</span><span class="p">)</span>
</span><span data-line="111"><span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</span><span data-line="112"><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span data-line="113">
</span><span data-line="114"><span class="c1"># ---- 8) 可选：简单“biplot”箭头（展示少量特征方向，避免过密）----</span>
</span><span data-line="115"><span class="c1"># 只画载荷绝对值最大的前 m 个特征，便于阅读</span>
</span><span data-line="116"><span class="n">m</span> <span class="o">=</span> <span class="mi">6</span>
</span><span data-line="117"><span class="n">pc1_load</span> <span class="o">=</span> <span class="n">loadings</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;PC1&quot;</span><span class="p">]</span>
</span><span data-line="118"><span class="n">pc2_load</span> <span class="o">=</span> <span class="n">loadings</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;PC2&quot;</span><span class="p">]</span>
</span><span data-line="119"><span class="n">top_feats</span> <span class="o">=</span> <span class="p">(</span><span class="n">pc1_load</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span> <span class="o">+</span> <span class="n">pc2_load</span><span class="o">.</span><span class="n">abs</span><span class="p">())</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">m</span><span class="p">)</span><span class="o">.</span><span class="n">index</span>
</span><span data-line="120">
</span><span data-line="121"><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">6.8</span><span class="p">,</span> <span class="mf">5.4</span><span class="p">))</span>
</span><span data-line="122"><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">pc_df</span><span class="p">[</span><span class="s2">&quot;PC1&quot;</span><span class="p">],</span> <span class="n">pc_df</span><span class="p">[</span><span class="s2">&quot;PC2&quot;</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
</span><span data-line="123"><span class="n">scale</span> <span class="o">=</span> <span class="mf">3.0</span>  <span class="c1"># 箭头缩放，按需要调整</span>
</span><span data-line="124"><span class="k">for</span> <span class="n">feat</span> <span class="ow">in</span> <span class="n">top_feats</span><span class="p">:</span>
</span><span data-line="125">    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">pc1_load</span><span class="p">[</span><span class="n">feat</span><span class="p">]</span><span class="o">*</span><span class="n">scale</span><span class="p">,</span> <span class="n">pc2_load</span><span class="p">[</span><span class="n">feat</span><span class="p">]</span><span class="o">*</span><span class="n">scale</span>
</span><span data-line="126">    <span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">head_width</span><span class="o">=</span><span class="mf">0.08</span><span class="p">,</span> <span class="n">head_length</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">length_includes_head</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span data-line="127">    <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="mf">1.07</span><span class="p">,</span> <span class="n">y</span><span class="o">*</span><span class="mf">1.07</span><span class="p">,</span> <span class="n">feat</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</span><span data-line="128">
</span><span data-line="129"><span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span data-line="130"><span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span data-line="131"><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;PC1&quot;</span><span class="p">)</span>
</span><span data-line="132"><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;PC2&quot;</span><span class="p">)</span>
</span><span data-line="133"><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;PCA Biplot (Top Features Only)&quot;</span><span class="p">)</span>
</span><span data-line="134"><span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</span><span data-line="135"><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span data-line="136">
</span><span data-line="137"><span class="c1"># ---- 9) 如需保留前 N 个主成分作为后续建模特征 ----</span>
</span><span data-line="138"><span class="c1"># 例如保留使累计方差&gt;=80%的最小 N</span>
</span><span data-line="139"><span class="n">N</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">cum_explained</span> <span class="o">&gt;=</span> <span class="mf">0.80</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span data-line="140"><span class="n">X_pca_N</span> <span class="o">=</span> <span class="n">X_pca</span><span class="p">[:,</span> <span class="p">:</span><span class="n">N</span><span class="p">]</span>
</span><span data-line="141"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Keep first </span><span class="si">{</span><span class="n">N</span><span class="si">}</span><span class="s2"> PCs (cumulative explained variance = </span><span class="si">{</span><span class="n">cum_explained</span><span class="p">[</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="id7">
<h2>数据可视化<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h2>
<section id="id8">
<h3>主成分碎石图<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<p><img alt="scree-plot-pca" src="../_images/scree-plot-pca.png" /></p>
<section id="id9">
<h4>图中各元素含义<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h4>
<ul>
<li><p><strong>蓝色柱形条（Explained variance）</strong></p>
<p>每个柱代表一个主成分（PC1、PC2、PC3…）能解释的数据变异比例。</p>
<p>例如，<strong>PC1</strong> 解释了约 <strong>25%</strong> 的方差，<strong>PC2</strong> 解释约 <strong>20%</strong>，之后依次递减。</p>
</li>
<li><p><strong>蓝色折线（Cumulative）</strong></p>
<p>表示前 N 个主成分累计解释的总方差比例。</p>
<p>曲线越接近 1（即 100%），表示这些主成分越能完整代表原始数据。</p>
</li>
<li><p><strong>虚线（80% threshold）</strong></p>
<p>通常用作经验阈值：选取能解释总方差 80% 左右的前几个主成分。</p>
</li>
</ul>
</section>
<section id="id10">
<h4>如何读懂这张图<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h4>
<ol class="arabic">
<li><p><strong>前两个主成分的重要性最高</strong></p>
<p>从左到右看，PC1 与 PC2 的柱形明显较高，说明这两个主成分保留了最多的信息。</p>
</li>
<li><p><strong>累计方差到 80% 时拐点出现</strong></p>
<p>折线在第 <strong>5 个主成分</strong> 附近跨过虚线（0.8），</p>
<p>说明只需前 5 个主成分就能保留原始数据约 80% 的信息。</p>
</li>
<li><p><strong>后面主成分的贡献迅速减小</strong></p>
<p>PC6 之后的柱几乎接近零，表示这些主成分主要是噪声或次要变化，可以忽略。</p>
</li>
</ol>
</section>
<section id="id11">
<h4>结论与实际应用<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h4>
<ul>
<li><p><strong>保留主成分数量</strong>：</p>
<p>从这张图可见，保留 <strong>前 5 个主成分</strong> 即可，这样既减少维度，又保留大部分信息。</p>
<p>（此时累计方差≈0.8）</p>
</li>
<li><p><strong>分析意义</strong>：</p>
<p>在后续分析（如聚类、回归、可视化）中，你可以用前 2~5 个主成分代替原始 11 个理化指标。</p>
</li>
</ul>
<blockquote>
<div><p>这张碎石图告诉我们：红酒的 11 个理化指标可以通过 5 个主成分来概括，这 5 个主成分已经解释了约 80% 的数据变化，足以代表主要信息结构。</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">Top</span> <span class="n">features</span> <span class="n">contributing</span> <span class="n">to</span> <span class="n">PC1</span><span class="p">:</span>
</span><span data-line="2"><span class="n">fixed</span> <span class="n">acidity</span>    <span class="mf">0.489314</span>
</span><span data-line="3"><span class="n">citric</span> <span class="n">acid</span>      <span class="mf">0.463632</span>
</span><span data-line="4"><span class="n">pH</span>               <span class="mf">0.438520</span>
</span><span data-line="5"><span class="n">density</span>          <span class="mf">0.395353</span>
</span><span data-line="6"><span class="n">sulphates</span>        <span class="mf">0.242921</span>
</span><span data-line="7"><span class="n">Name</span><span class="p">:</span> <span class="n">PC1</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</span><span data-line="8">
</span><span data-line="9"><span class="n">Top</span> <span class="n">features</span> <span class="n">contributing</span> <span class="n">to</span> <span class="n">PC2</span><span class="p">:</span>
</span><span data-line="10"><span class="n">total</span> <span class="n">sulfur</span> <span class="n">dioxide</span>    <span class="mf">0.569487</span>
</span><span data-line="11"><span class="n">free</span> <span class="n">sulfur</span> <span class="n">dioxide</span>     <span class="mf">0.513567</span>
</span><span data-line="12"><span class="n">alcohol</span>                 <span class="mf">0.386181</span>
</span><span data-line="13"><span class="n">volatile</span> <span class="n">acidity</span>        <span class="mf">0.274930</span>
</span><span data-line="14"><span class="n">residual</span> <span class="n">sugar</span>          <span class="mf">0.272080</span>
</span><span data-line="15"><span class="n">Name</span><span class="p">:</span> <span class="n">PC2</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</span></pre></div>
</div>
</section>
</section>
</section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>回到顶部</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="casual-chick.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>上一章</span><div class="title">因果分析</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="FA.html">
      <div class="page-info">
        <span>下一章</span>
        <div class="title">因子分析</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2025, Zhijun Gao</p>
  
  <p>
    Made with
    
    <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials"></div>
    </div>
  </div>
</footer>
      <script src="../_static/documentation_options.js?v=c16fcb61"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-YSF8MXKHBM"></script>
      <script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-YSF8MXKHBM');
</script>
      <script src="../_static/shibuya.js?v=e730760c"></script></body>
</html>